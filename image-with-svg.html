<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>img with svg</title>
  </head>
  <body>
    <script>
      function render() {
        //         const svg = `
        // <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60">
        //   <defs>
        //     <mask id="mask">
        //       <ellipse cx="50%" cy="50%" rx="50%" ry="50%" fill="white"></ellipse>
        //     </mask>
        //   </defs>
        //   <image xlink:href="./vk_large.jpg" width="60" height="60"></image>
        // </svg>`;
        let svg = `
<svg width="50" height="50" xmlns="http://www.w3.org/2000/svg">
   <circle cx="25" cy="25" r="20"/>
</svg>`;
        let blob = new Blob([svg], { type: "image/svg+xml" });
        let url = URL.createObjectURL(blob);

        var mysvg = new Image();
        // var xml = new XMLSerializer().serializeToString(toDom(svg));
        // mysvg.src = "data:image/svg+xml;charset=utf-8," + xml;
        mysvg.src = url;
        mysvg.addEventListener("load", () => URL.revokeObjectURL(url), {
          once: true,
        });
        return mysvg;
      }

      function escape(str) {}

      function toDom(str) {
        return document.createRange().createContextualFragment(str);
      }
    </script>
    <script src="./experiment.js"></script>
    <div id="content"></div>
  </body>
</html>
